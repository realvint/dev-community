<div class="col-lg-10 mx-auto mt-2">
  <% if @requested_connections.present? %>
    <div class="card mt-4 mb-4 shadow">
      <div class="card-header">
        <h3 class="card-title text-center">Requested Connections</h3>
      </div>
      <div class="card-body text-center">
        <div class="row">
          <% @requested_connections.each do |connection| %>
            <div class="col-lg-3 mb-3 mt-3">
              <div class="card text-center shadow pb-3">
                <div class="card-body">
                  <%= image_tag 'dummy_user.jpg', style: 'width: 150px; border-radius: 50%; border: 2px solid #0d6efd;', class: 'mb-3' %>
                  <div class="user-info position-relative" style="min-height: 180px">
                    <h5><%= get_the_receiver(connection.connected_user_id).name %></h5>
                    <p class="lead mb-1"><%= get_the_receiver(connection.connected_user_id).profile_title %></p>
                    <small class="text-primary"><%= get_the_receiver(connection.connected_user_id).country %></small><br>
                    <div class="position-absolute bottom-0 start-50 translate-middle-x">
                      <%= link_to connection.status.titleize, nil, class: 'btn btn-sm btn-primary mt-3' %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>

  <% if @received_connections.present? %>
    <div class="card mt-4 mb-4 shadow">
      <div class="card-header">
        <h3 class="card-title text-center">Requested Connections</h3>
      </div>
      <div class="card-body text-center">
        <div class="row">
          <% @received_connections.each do |connection| %>
            <div class="col-lg-3 mb-3 mt-3">
              <div class="card text-center shadow pb-3">
                <div class="card-body">
                  <%= image_tag 'dummy_user.jpg', style: 'width: 150px; border-radius: 50%; border: 2px solid #0d6efd;', class: 'mb-3' %>
                  <div class="user-info position-relative" style="min-height: 180px">
                    <h5><%= get_the_requester(connection.user_id).name %></h5>
                    <p class="lead mb-1"><%= get_the_requester(connection.user_id).profile_title %></p>
                    <small class="text-primary"><%= get_the_requester(connection.user_id).country %></small><br>
                    <div class="position-absolute bottom-0 start-50 translate-middle-x">
                      <% if connection.status == 'accepted' %>
                        <%= link_to connection.status.titleize, nil, class: 'btn btn-sm btn-primary mt-3' %>
                      <% else %>
                        <div class="d-flex">
                          <%= link_to 'Accept', nil, class: 'btn btn-sm btn-success mt-3 me-2' %>
                          <%= link_to 'Reject', nil, class: 'btn btn-sm btn-danger mt-3' %>
                        </div>
                      <% end %>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
</div>
